{"name":"postgres","desc":"","tables":[{"name":"public.goose_db_version","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('goose_db_version_id_seq'::regclass)","comment":""},{"name":"version_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"is_applied","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"tstamp","type":"timestamp without time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"goose_db_version_pkey","def":"CREATE UNIQUE INDEX goose_db_version_pkey ON public.goose_db_version USING btree (id)","table":"public.goose_db_version","columns":["id"],"comment":""}],"constraints":[{"name":"goose_db_version_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.goose_db_version","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.shops","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"店舗ID"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":"店舗名"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"shops_pkey","def":"CREATE UNIQUE INDEX shops_pkey ON public.shops USING btree (id)","table":"public.shops","columns":["id"],"comment":""},{"name":"shops_name_key","def":"CREATE UNIQUE INDEX shops_name_key ON public.shops USING btree (name)","table":"public.shops","columns":["name"],"comment":""},{"name":"idx_shops_created_at","def":"CREATE INDEX idx_shops_created_at ON public.shops USING btree (created_at)","table":"public.shops","columns":["created_at"],"comment":""}],"constraints":[{"name":"shops_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.shops","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"shops_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.shops","referenced_table":"","columns":["name"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.users","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":""},{"name":"shop_id","type":"character(26)","nullable":false,"default":null,"comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"email","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"password","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"is_shop_manager","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"last_logined_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"users_pkey","def":"CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)","table":"public.users","columns":["id"],"comment":""},{"name":"idx_users_created_at","def":"CREATE INDEX idx_users_created_at ON public.users USING btree (created_at)","table":"public.users","columns":["created_at"],"comment":""}],"constraints":[{"name":"users_shop_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","table":"public.users","referenced_table":"shops","columns":["shop_id"],"referenced_columns":["id"],"comment":""},{"name":"users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.users","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.makers","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"メーカーID"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":"メーカー名"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"makers_pkey","def":"CREATE UNIQUE INDEX makers_pkey ON public.makers USING btree (id)","table":"public.makers","columns":["id"],"comment":""},{"name":"makers_name_key","def":"CREATE UNIQUE INDEX makers_name_key ON public.makers USING btree (name)","table":"public.makers","columns":["name"],"comment":""},{"name":"idx_makers_created_at","def":"CREATE INDEX idx_makers_created_at ON public.makers USING btree (created_at)","table":"public.makers","columns":["created_at"],"comment":""}],"constraints":[{"name":"makers_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.makers","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"makers_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.makers","referenced_table":"","columns":["name"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.categories","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"カテゴリID"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":"カテゴリ名"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"categories_pkey","def":"CREATE UNIQUE INDEX categories_pkey ON public.categories USING btree (id)","table":"public.categories","columns":["id"],"comment":""},{"name":"categories_name_key","def":"CREATE UNIQUE INDEX categories_name_key ON public.categories USING btree (name)","table":"public.categories","columns":["name"],"comment":""},{"name":"idx_categories_created_at","def":"CREATE INDEX idx_categories_created_at ON public.categories USING btree (created_at)","table":"public.categories","columns":["created_at"],"comment":""}],"constraints":[{"name":"categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.categories","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"categories_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.categories","referenced_table":"","columns":["name"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.items","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"商品マスタID"},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":"商品名"},{"name":"price","type":"integer","nullable":false,"default":null,"comment":"単価"},{"name":"category_id","type":"character(26)","nullable":false,"default":null,"comment":"カテゴリID"},{"name":"maker_id","type":"character(26)","nullable":false,"default":null,"comment":"メーカーID"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"items_pkey","def":"CREATE UNIQUE INDEX items_pkey ON public.items USING btree (id)","table":"public.items","columns":["id"],"comment":""},{"name":"items_name_key","def":"CREATE UNIQUE INDEX items_name_key ON public.items USING btree (name)","table":"public.items","columns":["name"],"comment":""},{"name":"items_name_maker_id_key","def":"CREATE UNIQUE INDEX items_name_maker_id_key ON public.items USING btree (name, maker_id)","table":"public.items","columns":["maker_id","name"],"comment":""},{"name":"idx_items_created_at","def":"CREATE INDEX idx_items_created_at ON public.items USING btree (created_at)","table":"public.items","columns":["created_at"],"comment":""}],"constraints":[{"name":"items_maker_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (maker_id) REFERENCES makers(id) ON DELETE CASCADE","table":"public.items","referenced_table":"makers","columns":["maker_id"],"referenced_columns":["id"],"comment":""},{"name":"items_category_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE","table":"public.items","referenced_table":"categories","columns":["category_id"],"referenced_columns":["id"],"comment":""},{"name":"items_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.items","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"items_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.items","referenced_table":"","columns":["name"],"referenced_columns":[],"comment":""},{"name":"items_name_maker_id_key","type":"UNIQUE","def":"UNIQUE (name, maker_id)","table":"public.items","referenced_table":"","columns":["name","maker_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.item_barcodes","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":""},{"name":"item_id","type":"character(26)","nullable":false,"default":null,"comment":"商品マスタID"},{"name":"registrated_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":"登録日"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"item_barcodes_pkey","def":"CREATE UNIQUE INDEX item_barcodes_pkey ON public.item_barcodes USING btree (id)","table":"public.item_barcodes","columns":["id"],"comment":""},{"name":"idx_item_barcodes_created_at","def":"CREATE INDEX idx_item_barcodes_created_at ON public.item_barcodes USING btree (created_at)","table":"public.item_barcodes","columns":["created_at"],"comment":""}],"constraints":[{"name":"item_barcodes_item_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (item_id) REFERENCES items(id) ON DELETE CASCADE","table":"public.item_barcodes","referenced_table":"items","columns":["item_id"],"referenced_columns":["id"],"comment":""},{"name":"item_barcodes_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.item_barcodes","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.stocks","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"在庫ID"},{"name":"item_id","type":"character(26)","nullable":false,"default":null,"comment":"商品マスタID"},{"name":"shop_id","type":"character(26)","nullable":false,"default":null,"comment":"店舗ID"},{"name":"quantity","type":"integer","nullable":false,"default":null,"comment":"残個数"},{"name":"expirated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":"消費期限"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"stocks_pkey","def":"CREATE UNIQUE INDEX stocks_pkey ON public.stocks USING btree (id)","table":"public.stocks","columns":["id"],"comment":""},{"name":"idx_stocks_created_at","def":"CREATE INDEX idx_stocks_created_at ON public.stocks USING btree (created_at)","table":"public.stocks","columns":["created_at"],"comment":""},{"name":"idx_stocks_expirated_at","def":"CREATE INDEX idx_stocks_expirated_at ON public.stocks USING btree (expirated_at)","table":"public.stocks","columns":["expirated_at"],"comment":""}],"constraints":[{"name":"stocks_shop_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","table":"public.stocks","referenced_table":"shops","columns":["shop_id"],"referenced_columns":["id"],"comment":""},{"name":"stocks_item_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (item_id) REFERENCES items(id) ON DELETE CASCADE","table":"public.stocks","referenced_table":"items","columns":["item_id"],"referenced_columns":["id"],"comment":""},{"name":"stocks_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.stocks","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.finances","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"会計ID"},{"name":"shop_id","type":"character(26)","nullable":false,"default":null,"comment":"店舗ID"},{"name":"total_amount","type":"integer","nullable":false,"default":null,"comment":"合計金額"},{"name":"purchased_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":"購入日"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"finances_pkey","def":"CREATE UNIQUE INDEX finances_pkey ON public.finances USING btree (id)","table":"public.finances","columns":["id"],"comment":""},{"name":"idx_finances_created_at","def":"CREATE INDEX idx_finances_created_at ON public.finances USING btree (created_at)","table":"public.finances","columns":["created_at"],"comment":""}],"constraints":[{"name":"finances_shop_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","table":"public.finances","referenced_table":"shops","columns":["shop_id"],"referenced_columns":["id"],"comment":""},{"name":"finances_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.finances","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.sales","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"character(26)","nullable":false,"default":null,"comment":"売上ID"},{"name":"barcode_id","type":"character(26)","nullable":false,"default":null,"comment":"バーコードID"},{"name":"finance_id","type":"character(26)","nullable":false,"default":null,"comment":"会計ID"},{"name":"purchased_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":"購入日"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"sales_pkey","def":"CREATE UNIQUE INDEX sales_pkey ON public.sales USING btree (id)","table":"public.sales","columns":["id"],"comment":""},{"name":"idx_sales_created_at","def":"CREATE INDEX idx_sales_created_at ON public.sales USING btree (created_at)","table":"public.sales","columns":["created_at"],"comment":""}],"constraints":[{"name":"sales_barcode_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (barcode_id) REFERENCES item_barcodes(id) ON DELETE CASCADE","table":"public.sales","referenced_table":"item_barcodes","columns":["barcode_id"],"referenced_columns":["id"],"comment":""},{"name":"sales_finance_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (finance_id) REFERENCES finances(id) ON DELETE CASCADE","table":"public.sales","referenced_table":"finances","columns":["finance_id"],"referenced_columns":["id"],"comment":""},{"name":"sales_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.sales","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.users","columns":["shop_id"],"cardinality":"Zero or more","parent_table":"public.shops","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","virtual":false},{"table":"public.items","columns":["maker_id"],"cardinality":"Zero or more","parent_table":"public.makers","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (maker_id) REFERENCES makers(id) ON DELETE CASCADE","virtual":false},{"table":"public.items","columns":["category_id"],"cardinality":"Zero or more","parent_table":"public.categories","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE","virtual":false},{"table":"public.item_barcodes","columns":["item_id"],"cardinality":"Zero or more","parent_table":"public.items","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (item_id) REFERENCES items(id) ON DELETE CASCADE","virtual":false},{"table":"public.stocks","columns":["shop_id"],"cardinality":"Zero or more","parent_table":"public.shops","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","virtual":false},{"table":"public.stocks","columns":["item_id"],"cardinality":"Zero or more","parent_table":"public.items","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (item_id) REFERENCES items(id) ON DELETE CASCADE","virtual":false},{"table":"public.finances","columns":["shop_id"],"cardinality":"Zero or more","parent_table":"public.shops","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE","virtual":false},{"table":"public.sales","columns":["barcode_id"],"cardinality":"Zero or more","parent_table":"public.item_barcodes","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (barcode_id) REFERENCES item_barcodes(id) ON DELETE CASCADE","virtual":false},{"table":"public.sales","columns":["finance_id"],"cardinality":"Zero or more","parent_table":"public.finances","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (finance_id) REFERENCES finances(id) ON DELETE CASCADE","virtual":false}],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["\"$user\"","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
