# public.sales

## Description

## Columns

| Name         | Type                     | Default           | Nullable | Parents                                         | Comment      |
| ------------ | ------------------------ | ----------------- | -------- | ----------------------------------------------- | ------------ |
| id           | character(26)            |                   | false    |                                                 | 売上ID         |
| barcode_id   | character(26)            |                   | false    | [public.item_barcodes](public.item_barcodes.md) | バーコードID      |
| finance_id   | character(26)            |                   | false    | [public.finances](public.finances.md)           | 会計ID         |
| purchased_at | timestamp with time zone |                   | false    |                                                 | 購入日          |
| created_at   | timestamp with time zone | CURRENT_TIMESTAMP | false    |                                                 |              |
| updated_at   | timestamp with time zone | CURRENT_TIMESTAMP | false    |                                                 |              |
| deleted_at   | timestamp with time zone |                   | true     |                                                 |              |

## Constraints

| Name                  | Type        | Definition                                                              |
| --------------------- | ----------- | ----------------------------------------------------------------------- |
| sales_barcode_id_fkey | FOREIGN KEY | FOREIGN KEY (barcode_id) REFERENCES item_barcodes(id) ON DELETE CASCADE |
| sales_finance_id_fkey | FOREIGN KEY | FOREIGN KEY (finance_id) REFERENCES finances(id) ON DELETE CASCADE      |
| sales_pkey            | PRIMARY KEY | PRIMARY KEY (id)                                                        |

## Indexes

| Name                 | Definition                                                                 |
| -------------------- | -------------------------------------------------------------------------- |
| sales_pkey           | CREATE UNIQUE INDEX sales_pkey ON public.sales USING btree (id)            |
| idx_sales_created_at | CREATE INDEX idx_sales_created_at ON public.sales USING btree (created_at) |

## Relations

```mermaid
erDiagram

"public.sales" }o--|| "public.item_barcodes" : "FOREIGN KEY (barcode_id) REFERENCES item_barcodes(id) ON DELETE CASCADE"
"public.item_barcodes" }o--|| "public.items" : "FOREIGN KEY (item_id) REFERENCES items(id) ON DELETE CASCADE"
"public.sales" }o--|| "public.finances" : "FOREIGN KEY (finance_id) REFERENCES finances(id) ON DELETE CASCADE"
"public.finances" }o--|| "public.shops" : "FOREIGN KEY (shop_id) REFERENCES shops(id) ON DELETE CASCADE"

"public.sales" {
  character_26_ id "売上ID"
  character_26_ barcode_id FK "バーコードID"
  character_26_ finance_id FK "会計ID"
  timestamp_with_time_zone purchased_at "購入日"
  timestamp_with_time_zone created_at ""
  timestamp_with_time_zone updated_at ""
  timestamp_with_time_zone deleted_at ""
}
"public.item_barcodes" {
  character_26_ id ""
  character_26_ item_id FK "商品マスタID"
  timestamp_with_time_zone registrated_at "登録日"
  timestamp_with_time_zone created_at ""
  timestamp_with_time_zone updated_at ""
  timestamp_with_time_zone deleted_at ""
}
"public.items" {
  character_26_ id "商品マスタID"
  varchar_255_ name "商品名"
  integer price "単価"
  character_26_ category_id FK "カテゴリID"
  character_26_ maker_id FK "メーカーID"
  timestamp_with_time_zone created_at ""
  timestamp_with_time_zone updated_at ""
  timestamp_with_time_zone deleted_at ""
}
"public.finances" {
  character_26_ id "会計ID"
  character_26_ shop_id FK "店舗ID"
  integer total_amount "合計金額"
  timestamp_with_time_zone purchased_at "購入日"
  timestamp_with_time_zone created_at ""
  timestamp_with_time_zone updated_at ""
  timestamp_with_time_zone deleted_at ""
}
"public.shops" {
  character_26_ id "店舗ID"
  varchar_255_ name "店舗名"
  timestamp_with_time_zone created_at ""
  timestamp_with_time_zone updated_at ""
  timestamp_with_time_zone deleted_at ""
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
